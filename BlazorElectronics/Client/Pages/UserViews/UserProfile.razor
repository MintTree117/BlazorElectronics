@page "/profile"

@inherits UserView

@if ( !IsLoaded )
{
    <h3>Awaiting authorization...</h3>
}
else if ( !IsAuthorized )
{
    <h3>@Message</h3>
}
else
{
    <h5>Change Password</h5>

    <EditForm Model="Request" OnValidSubmit="@(async () => await ChangePassword() )">
        <div class="mb-3">
            <label for="password">New Password</label>
            <InputText class="form-control" id="password" @bind-Value="Request.Password" type="password"/>
            <ValidationMessage For="@(() => Request.Password)"/>
        </div>
        <div class="mb-3">
            <label for="confirm-password">Confirm New Password</label>
            <InputText class="form-control" id="confirm-password" @bind-Value="Request.ConfirmPassword" type="password"/>
            <ValidationMessage For="@(() => Request.ConfirmPassword)"/>
        </div>
        <button class="btn btn-primary" type="submit">Apply</button>
    </EditForm>
    <span>@Message</span>
}